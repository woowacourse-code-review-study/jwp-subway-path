# jwp-subway-path

### 🚇 도메인 요구사항

- [x] 역 등록
    - [x] 라인명, 기준이 되는 역, 등록 할 역, 방향, 거리를 입력받아 역을 등록한다.
    - [x] 등록할 역의 위치는 자유롭게 지정할 수 있다.
    - [x] 입력한 두 역이 전체 노선에서 이미 연결되어 있으면 안된다.
    - [x] 기준이 되는 역은 꼭 존재해야 한다.
    - [x] 등록할 역은 같은 노선에는 존재하면 안된다.
    - [x] 노선 가운데 역이 등록될 경우 거리 정보를 고려해야 한다.
        - [x] A-B-C 노선에서 B 다음에 D 역을 등록하려고 할 때 B-C가 3km, B-D거리가 2km라면 B-D거리는 2km로 등록되어야 하고 D-C 거리는 1km로 등록되어야 한다.
    - [x] 위에 해당하는 경우가 아닌 경우 예외가 발생한다.
- [x] 역 제거
    - [x] 역을 제거하는 경우 정상 동작을 위해 재배치 되어야 한다.
    - [x] 역과 역 사이의 거리도 재배정 되어야 한다.
    - [x] 노선에 등록된 역이 2개 인 경우 역을 제거할 때 두 역이 모두 제거되어야 한다.
- [x] 노선 조회
    - [x] 노선에 포함된 역을 순서대로 보여줘야 한다.
- [x] 전체 노선 조회
    - [x] 전체 노선에 포함된 역을 순서대로 보여줘야 한다.
- [x] 경로 조회
    - [x] 경로를 반환한다.
    - [x] 요금을 반환한다.
        - 기본운임(10㎞ 이내): 기본운임 1,250원
        - 이용 거리 초과 시 추가운임 부과
            - 10km~50km: 5km 까지 마다 100원 추가
            - 50km 초과: 8km 까지 마다 100원 추가
        - 노선 별 추가 운임을 부과
            - 추가 운임은 가장 높은 금액의 추가 요금만 적용된다.
        - 연령 별 요금 할인
            - 청소년(13세 이상 19세 미만): 350원을 공제한 금액에서 20%를 할인한다.
            - 어린이(6세 이상 13세 미만): 350원을 공제한 금액에서 50%를 할인한다.

### 🚉 역 API

| 기능    | Method | URL            |
|-------|--------|----------------|
| 등록    | POST   | /stations      |
| 초기 등록 | POST   | /stations/init |
| 삭제    | DELETE | /stations      |

### 🛤️ 노선 API

| 기능    | Method | URL         |
|-------|--------|-------------|
| 추가    | POST   | /lines      |
| 삭제    | DELETE | /lines/{id} |
| 수정    | PATCH  | /lines/{id} |
| 조회    | GET    | /lines/{id} |
| 전체 조회 | GET    | /lines      |

### 경로 조회 API

| 기능    | Method | URL            |
|-------|--------|----------------|
| 경로 조회 | POST   | /shortest-path |

