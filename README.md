# jwp-subway-path

## Quick Start

```text
cd docker

docker-compose -p subway up
```

## API 문서

```text
http://localhost:8080/swagger-ui/index.html#/
```

## 기능 요구사항

### 역

- [x] 역은 고유한 식별자를 가진다.
- [x] 역 이름은 `역`으로 끝나야 한다.
- [x] 역 이름은 2글자에서 11글자까지 가능하다.
- [x] 역 이름은 한글 + 숫자로만 이루어져야 한다.

### 구역

- [x] 구역은 두 역과 역 사이의 거리를 가진다.
- [x] 거리는 양의 정수이고, 단위는 km이다.

### 노선

- [x] 노선 이름은 숫자 + `호선` 이다.
    - [x] 숫자는 1 ~ 9까지 가능하다.

- [x] 노선의 색은 `색`으로 끝나야 한다.
    - [x] 색 이름은 2글자에서 11글자까지 가능하다.

- [x] 역을 추가할 수 있어야 한다.
    -[x] 역을 추가할 때, 상행, 하행 역의 정보와 거리 정보를 입력받는다.
    - 최초 등록이 아닐 경우, 상행역 또는 하행역 어느 한 가지도 존재하지 않으면 예외를 던진다.
    -[x] 하나의 역은 여러 노선에 등록될 수 있다.
    -[x] 두 역의 가운데에 다른 역을 등록할 때, 기존 거리를 고려해야 한다.

- [x] 역이 2개 이상 등록된 노선을 전부 보여주어야 한다.

- [x] 구역은 역 순서대로 저장되어 있어야 한다.
    - [x] 노선 번호를 입력받으면, 노선에 포함된 역을 순서대로 보여주어야 한다.

- [x] 역을 제거할 수 있어야 한다.
    -[x] 역을 제거하면 남은 역을 재배치 해야 한다.
    -[x] 노선에서 역이 제거되면 역과 역 사이의 거리도 재배정되어야 한다.
    -[x] 노선에 등록된 역이 2개인 경우 하나의 역을 제거할 때 두 역이 모두 제거되어야 한다.

### 지하철

- [x] 출발역과 도착역 사이의 최단 경로를 구한다.
    - [x] 총 거리 정보를 함께 응답한다.

### 요금 정책

- [x] 거리에 따른 요금을 계산한다.
    - 기본운임(10㎞ 이내): 기본운임 1,250원
    - 이용 거리 초과 시 추가운임 부과
        - 10km~50km: 5km 까지 마다 100원 추가
        - 50km 초과: 8km 까지 마다 100원 추가

- [x] 노선에 따른 요금을 계산한다.
    - 추가 요금이 있는 노선을 이용하면 측정된 요금에 추가한다.
    - 경로 중 추가 요금이 있는 노선을 환승하여 이용하면 가장 높은 금액의 추가 요금만 적용한다.

- [x] 연령에 따른 요금 할인을 계산한다.
    - 연령에 따른 요금 할인 정책을 반영한다.
        - 청소년: 운임에서 350원을 공제한 금액의 20% 할인
        - 어린이: 운임에서 350원을 공제한 금액의 50% 할인
